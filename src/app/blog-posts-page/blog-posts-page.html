<!-- Blog Posts Page -->
<section class="min-h-screen bg-slate-900 py-20 px-8">
  <div class="max-w-6xl mx-auto">
    <!-- Page Header -->
    <div class="text-center mb-16">
      <h1 class="text-5xl font-light text-white mb-4">Blog Posts</h1>
      <p class="text-lg text-slate-400 max-w-2xl mx-auto">
        Thoughts, insights, and experiences from my journey as a developer and student
      </p>
    </div>

    <!-- Search and Filter Controls -->
    <div class="mb-12">
      <!-- Search Bar -->
      <div class="max-w-md mx-auto mb-8">
        <input 
          type="text" 
          [(ngModel)]="searchQuery"
          (input)="onSearchChange()"
          placeholder="Search posts..."
          class="w-full px-6 py-4 bg-slate-800 text-white rounded-full border border-slate-700 focus:border-white focus:outline-none transition-colors">
      </div>

      <!-- Category Filter -->
      <div class="flex flex-wrap justify-center gap-3 mb-8">
        <button 
          (click)="filterByCategory('All')"
          [class]="selectedCategory === 'All' ? 'bg-white text-slate-900' : 'bg-slate-700 text-slate-300'"
          class="px-6 py-2 rounded-full text-sm font-light hover:bg-slate-600 transition-colors">
          All
        </button>
        <button 
          *ngFor="let category of categories"
          (click)="filterByCategory(category)"
          [class]="selectedCategory === category ? 'bg-white text-slate-900' : 'bg-slate-700 text-slate-300'"
          class="px-6 py-2 rounded-full text-sm font-light hover:bg-slate-600 transition-colors">
          {{ category }}
        </button>
      </div>

      <!-- Results Count -->
      <div class="text-center text-slate-400 text-sm mb-8">
        Showing {{ filteredPosts.length }} post{{ filteredPosts.length !== 1 ? 's' : '' }}
        <span *ngIf="selectedCategory !== 'All'"> in {{ selectedCategory }}</span>
        <span *ngIf="searchQuery.trim()"> matching "{{ searchQuery }}"</span>
      </div>
    </div>

    <!-- Blog Posts Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" *ngIf="filteredPosts.length > 0">
      <article 
        *ngFor="let post of filteredPosts"
        class="bg-slate-800 rounded-2xl p-8 hover:bg-slate-750 transition-all duration-300 group">
        <div class="mb-6">
          <span class="inline-block bg-slate-700 text-slate-300 px-3 py-1 rounded-full text-sm font-light mb-4">
            {{ post.category }}
          </span>
          <h3 class="text-xl font-light text-white mb-3 group-hover:text-slate-200 transition-colors">
            {{ post.title }}
          </h3>
          <p class="text-slate-400 text-sm leading-relaxed">
            {{ post.excerpt }}
          </p>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-slate-500 text-sm">{{ formatDate(post.date) }}</span>
          <button class="text-white text-sm font-light hover:text-slate-300 transition-colors">
            Read More →
          </button>
        </div>
        <div class="mt-4 flex flex-wrap gap-2">
          <span 
            *ngFor="let tag of post.tags.slice(0, 3)"
            class="text-xs text-slate-500 bg-slate-700 px-2 py-1 rounded">
            {{ tag }}
          </span>
        </div>
      </article>
    </div>

    <!-- No Results Message -->
    <div *ngIf="filteredPosts.length === 0" class="text-center py-16">
      <div class="text-slate-400 text-lg mb-4">No posts found</div>
      <p class="text-slate-500 mb-8">
        <span *ngIf="searchQuery.trim()">No posts match "{{ searchQuery }}"</span>
        <span *ngIf="!searchQuery.trim() && selectedCategory !== 'All'">No posts in {{ selectedCategory }}</span>
      </p>
      <button 
        (click)="searchQuery = ''; selectedCategory = 'All'; applyFilters()"
        class="border-2 border-white text-white px-6 py-3 rounded-full font-light hover:bg-white hover:text-slate-900 transition-all duration-300">
        Clear Filters
      </button>
    </div>

    <!-- Action Buttons -->
    <div class="text-center mt-12" *ngIf="filteredPosts.length > 0">
      <button 
        (click)="goHome()"
        class="border-2 border-white text-white px-8 py-4 rounded-full font-light hover:bg-white hover:text-slate-900 transition-all duration-300 mr-4">
        ← Back to Home
      </button>
      <button 
        (click)="toggleShowAll()"
        class="border-2 border-white text-white px-8 py-4 rounded-full font-light hover:bg-white hover:text-slate-900 transition-all duration-300">
        {{ showAllPosts ? 'Show Less' : 'Show All Posts' }}
      </button>
    </div>
  </div>
</section>
